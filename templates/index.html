<!DOCTYPE html>
<html>

<head>
    <title>MIMOSA Interface</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="../static/style.css" media="screen" />
</head>
<body class="light-mode font-sans leading-normal tracking-normal">
<div class="side-menu hidden" id="mySideMenu">
    <h1 id="menu_title"  class="menu-title">Settings</h1>
    <ul>
        <li>
            <button id="on-button" class="common-button bg-blue-500 hover:bg-blue-700 mr-4">
                On
            </button>
        </li>
        <li>
            <button id="off-button" class="common-button bg-red-500 hover:bg-red-700 mr-4">
                Off
            </button>
        </li>
        <li>
            <button id="party-button" class="common-button bg-yellow-500 hover:bg-rainbow mr-4">
                Party-Mode
            </button>

        </li>
        <li>
            <label id="brightness-title" for="brightness" class="common-label">Brightness:</label>
            <input type="range" id="brightness" name="brightness" min="0" max="100" step="1" class="common-input">
            <output for="brightness" id="brightness-output" class="common-output" >50</output>
        </li>
        <li>
            <label id="timeout-title" for="timeout" class="common-label">Timeout in Seconds:</label>
            <input type="range" id="timeout" name="brightness" min="0" max="200" step="1" class="common-input">
            <output for="timeout" id="timeout-output" class="common-output">5</output>
        </li>
        <li>
            <button id="apply-settings" class="bg-blue-500 hover:bg-blue-700 common-button mt-4 mr-4">
                Apply Settings
            </button>
        </li>
    </ul>
</div>

<button  id="menu-button" class="menu-button" onclick="toggleSideMenu()"><span class="material-symbols-outlined text-3xl">settings</span></button>
<button  id="theme-button" class="theme-button" onclick="toggleLightMode()"><span class="material-symbols-outlined text-3xl" id="theme-icon">light_mode</span></button>
<div class="container mx-auto mt-8">
    <div class="container mx-auto mt-8">
        <div class="absolut top-10 z-10 w-full  py-1">
            <h1 id="title" class="text-4xl text-center font-bold mb-8">M.I.M.O.S.A V3</h1>
        </div>

    <div class="flex flex-col items-center my-5 mx-auto">
        <div class="flex w-60">
        <button type="button" id="btn-esp"
                class="flex-1 common-button bg-blue-500 hover:bg-blue-700 mr-2">Add ESP</button>

        <button type="button" id="btn-add"
                class="flex-1 common-button bg-blue-500 hover:bg-blue-700">Add Item</button>
        </div>
        <div id="form-container" class="hidden w-full md:w-2/3 lg:w-1/2">
            <form id="add-form" class="shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <div class="mb-4">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required
                           placeholder="Enter your name"
                           class="form-input">
                </div>

                <div class="mb-4">
                    <label for="link">Link:</label>
                    <input type="url" id="link" name="link"
                           placeholder="Enter the link"
                           class="form-input">
                </div>
                <div class="mb-4 flex flex-wrap">
                <div class="w-full md:w-2/4 md:pr-2">
                    <label for="image">Image:</label>
                    <input type="url" id="image" name="image" required
                           placeholder="Enter the image URL"
                           class="form-input">
                </div>
                <div class="w-full md:w-2/4 md:pl-2">
                    <label for="quantity">Quantity:</label>
                    <input type="number" id="quantity" name="quantity" required
                           placeholder="Enter the quantity"
                           class="form-input">
                </div>
                </div>
                <div class="mb-4 flex flex-wrap">
                <div class="w-full md:w-2/4 md:pr-2">
                    <label for="ip" >Select ESP:</label>
                    <select id="ip" name="ip" class="form-input"></select>
                </div>
                <div class="w-full md:w-2/4 md:pl-2">
                    <label for="generate_pos" >Generate Positions:</label>
                    <button type="button" id="generate_pos" onclick="togglegrid()" class="flex-1 bg-blue-500 hover:bg-blue-700 common-button w-full">Select LEDS</button>
                </div>
                </div>
                <div id="select_led_container" class="container mx-auto hidden">
                    <div class="mb-4 flex flex-wrap">
                        <div class="w-full md:w-1/4 ">
                            <button type="button" id="test_lights" onclick="TestLights()"
                                    class="common-button bg-blue-500 hover:bg-blue-700">Test Lights</button>
                        </div>
                        <div class="w-full md:w-1/4 md:pl-2">
                            <button type="button" id="clear_grid" onclick="clearAll()"
                                    class="common-button bg-blue-500 hover:bg-blue-700 ">Clear All</button>
                        </div>
                    </div>
                    <div class="mb-4">
                        <div class="grid-container" id="gridContainer"></div>
                    </div>
                </div>
                <div class="container mb-4">
                    <label for="tag-input" >Tags:</label>
                    <div class="tag-input-container">
                        <input id="tag-input" name="tag-input" placeholder="Add Tags" class="form-input mb-4 flex-1" />
                        <i class="material-symbols-outlined form-icon" id="add_form_tag_toggle">filter_list</i>
                    </div>

                    <div class="tag-container" id="add_form_tag_container">
                        <div class="tag-container hidden" id="add_form_tag_container_overflow"></div>
                    </div>

                </div>
                <div class="flex mx-auto">
                <button type="button" id="save-item"
                        class="flex-1 common-button bg-blue-500 hover:bg-blue-700">Add</button>
                <button type="button" id="copy-item"
                        class="flex-1 common-button bg-purple-500 hover:bg-purple-700 hidden ml-2">Copy</button>
                </div>
            </form>
        </div>
        <div id="esp-container" class="hidden w-full md:w-2/3 lg:w-1/2" >
            <form id="esp-form" class="shadow-md rounded px-8 pt-6 pb-8 mb-4">
                <div class="mb-4">
                    <label for="select_esp">Select ESP:</label>
                    <select id="select_esp" name="select_esp" class="form-input">
                        <option value="add" selected>Add ESP</option>
                    </select>
                </div>

                <div class="mb-4">
                    <label for="esp_name">Name:</label>
                    <input type="text" id="esp_name" name="esp_name" required class="form-input">
                </div>

                <div class="mb-4">
                    <label for="esp_ip">ESP IP:</label>
                    <input type="text" id="esp_ip" name="esp_ip" required class="form-input">
                </div>

                <div class="mb-4 flex flex-wrap">
                    <div class="w-full md:w-1/2 md:pr-2">
                        <label for="rows">Rows:</label>
                        <input type="number" id="rows" name="rows" min="1" value="4" required class="form-input">
                    </div>

                    <div class="w-full md:w-1/2 md:pl-2">
                        <label for="cols" >Columns:</label>
                        <input type="number" id="cols" name="cols" min="1" value="4" required class="form-input">
                    </div>
                </div>

                <div class="mb-4 flex flex-wrap">
                    <div class="w-full md:w-1/3 md:pr-2">
                        <label for="start_top">Start Top:</label>
                        <select id="start_top" required class="form-input">
                            <option value="top">Top</option>
                            <option value="bottom">Bottom</option>
                        </select>
                    </div>

                    <div class="w-full md:w-1/3 md:px-2">
                        <label for="start_left">Start Left:</label>
                        <select id="start_left" required class="form-input">
                            <option value="left">Left</option>
                            <option value="right">Right</option>
                        </select>
                    </div>

                    <div class="w-full md:w-1/3 md:pl-2">
                        <label for="serpentine_direction">Serpentine Direction:</label>
                        <select id="serpentine_direction" required class="form-input">
                            <option value="horizontal">Horizontal</option>
                            <option value="vertical">Vertical</option>
                        </select>
                    </div>
                </div>
                <div class="flex items-left my-5 mx-auto">
                    <button type="button" id="add-esp" class="flex-1 common-button bg-blue-500 hover:bg-blue-700">Add</button>
                    <button type="button" id="delete-esp" class="flex-1 common-button bg-red-500 hover:bg-red-700">Delete</button>
                </div>
            </form>

        </div>
        <div class="flex items-center mt-2 mb-4">
        <input type="text" id="search" placeholder="Search items..."
               class="flex-1 shadow appearance-none search leading-tight focus:outline-none focus:shadow-outline">

            <div class="relative ml-1 mr-1">
                <div id="sort_title" class="flex-1 shadow appearance-none rounded py-1.5 px-3 search leading-tight focus:outline-none focus:shadow-outline">
                    Sort by: ID <!-- Initial title, replace with the default selected value -->
                </div>
                <select id="sort_method" class="absolute top-0 left-0 opacity-0 w-full h-full cursor-pointer search" onchange="sortItems()">
                    <option value="id">ID</option>
                    <option value="name">Name</option>
                    <option value="quantity">Quantity</option>
                    <option value="ip">Box</option>
                </select>
            </div>

            <button class="search rounded px-3 text-center"><span class="material-symbols-outlined icon" id="filter_tag_toggle">filter_list</span></button>
        </div>
        <div class="container mb-4">
        <div class="tag-container" id="filter_tag_container">
            <div class="tag-container hidden" id="filter_tag_container_overflow"></div>
        </div>

        </div>
    <ul id="item-list"
        class="relative grid sm:grid-cols-1 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4 max-w-5xl mx-auto w-11/12 md:5/6 lg:full">
    </ul>
</div>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
    <script src="{{ url_for('static', filename='esp.js') }}"></script>
    <script src="{{ url_for('static', filename='gen_grid.js') }}"></script>
    <script src="{{ url_for('static', filename='settings.js') }}"></script>
    <script src="{{ url_for('static', filename='tags.js') }}"></script>
</body>

</html>